<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Semantic Search Loading</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 flex items-center justify-center min-h-screen">

  <!-- Add sliding transition effect and ensure it appears on top -->
  <style>
    @keyframes slideInFromBottom {
      from {
        transform: translateY(100%);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .slide-in {
      animation: slideInFromBottom 0.5s ease-out;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 10; /* Ensure it appears on top */
    }
  </style>

  <!-- Mobile Frame -->
  <div class="relative w-full h-[812px] bg-gray-50 border border-gray-200 overflow-hidden flex flex-col justify-between slide-in">

    <!-- Header -->
    <div class="flex justify-between items-center px-4 pt-4">
      <span class="text-sm text-blue-600 font-medium" style="font-family: 'SF Pro', sans-serif; font-weight: 500; font-size: 16px;">Done</span>
    </div>

    <!-- Animation Content -->
    <div id="loadingContainer" class="flex flex-col items-center justify-center flex-1 text-center px-6 space-y-2 transition-all duration-500">
      <img src="images/scissors.png" alt="Scissors" style="width: 27px; height: auto;" />
      <p id="loadingText" class="font-serif text-[20px] leading-[25px] text-gray-900 font-normal w-[280px]" style="font-family: Georgia, serif; font-size: 20px;">
        Cutting snippets from Wikipedia articles.
      </p>
      <div id="sources" class="text-gray-500 text-sm space-y-0.5"></div>
    </div>

    <!-- Home Indicator -->
    <div class="pb-4 flex justify-center">
      <div class="w-28 h-1.5 bg-gray-400 rounded-full"></div>
    </div>
  </div>

  <!-- Script for Sequence -->
  <script>
    const loadingText = document.getElementById('loadingText');
    const sources = document.getElementById('sources');
    const steps = [
      { text: "Cutting snippets from Wikipedia articles.", sources: [] },
      { text: "Cutting snippets from Wikipedia articles..", sources: ["Bluesky"] },
      { text: "Cutting snippets from Wikipedia articles...", sources: ["Bluesky", "Twitter"] },
    ];

    let step = 0;
    const updateScreen = () => {
      const current = steps[step];
      loadingText.textContent = current.text;

      sources.innerHTML = current.sources
        .map(src => `<p style="font-family: 'SF Pro', sans-serif; font-weight: bold; font-size: 17px; line-height: 1.8;">${src}</p>`)
        .join("");

      step = (step + 1) % steps.length;
    };

    const redirectToFullArticle = () => {
      window.location.href = 'results.html';
    };

    // Cycle screens every 1 second, then redirect after the last step
    updateScreen();
    const interval = setInterval(() => {
      updateScreen();
      if (step === 0) { // Assuming step resets to 0 after the last step
        clearInterval(interval);
        redirectToFullArticle();
      }
    }, 2000);
  </script>

</body>
</html>
